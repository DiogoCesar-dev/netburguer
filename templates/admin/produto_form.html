{% extends "base.html" %}
{% block title %}{{ acao }} Produto{% endblock %}

{% block content %}
    <h2 class="text-3xl font-bold text-preto-texto mb-2">{{ acao }} Produto ou Combo</h2>
    <p class="text-cinza-texto mb-6">Preencha as informações abaixo para manter o cardápio atualizado.</p>
    <hr class="border-gray-200 mb-8">

    <form method="post" 
          class="max-w-xl mx-auto p-8 rounded-xl bg-white border border-gray-100 shadow-lg space-y-6" 
          {% if produto %}action="{% url 'produto_editar' produto.id %}"{% endif %}
    >
        {% csrf_token %}

        <div class="form-group">
            <label for="nome" class="block mb-2 font-semibold text-sm text-preto-texto">Nome</label>
            <input 
                type="text" 
                id="nome" 
                name="nome" 
                class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:border-amarelo-principal focus:ring-2 focus:ring-amarelo-principal/30 transition duration-150" 
                value="{{ produto.nome|default_if_none:'' }}" 
                required
            >
        </div>

        <div class="form-group">
            <label for="descricao" class="block mb-2 font-semibold text-sm text-preto-texto">Descrição</label>
            <textarea 
                id="descricao" 
                name="descricao" 
                rows="4" 
                class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:border-amarelo-principal focus:ring-2 focus:ring-amarelo-principal/30 transition duration-150" 
                required
            >{{ produto.descricao|default_if_none:'' }}</textarea>
        </div>

        <div class="form-group">
            <label for="preco" class="block mb-2 font-semibold text-sm text-preto-texto">Preço (ex: 29.90)</label>
            <input 
                type="number" 
                step="0.01" 
                min="0" 
                id="preco" 
                name="preco" 
                class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:border-amarelo-principal focus:ring-2 focus:ring-amarelo-principal/30 transition duration-150" 
                value="{{ produto.preco|default_if_none:'' }}" 
                required
            >
        </div>

        <div class="form-group pt-2">
            <label class="flex items-center space-x-2 font-medium text-preto-texto">
                <input 
                    type="checkbox" 
                    name="is_combo" 
                    class="w-4 h-4 text-vermelho-principal border-gray-300 rounded focus:ring-vermelho-principal"
                    {% if produto and produto.is_combo %}checked{% endif %}
                >
                <span>Produto faz parte de um combo</span>
            </label>
        </div>

        <div class="flex space-x-4 pt-4">
            <button 
                type="submit" 
                class="flex-1 py-3 font-bold uppercase rounded-lg shadow-md 
                       bg-verde-principal text-white hover:bg-green-700 transition duration-300 transform hover:-translate-y-0.5"
            >
                {{ acao }}
            </button>
            <a href="{% url 'produto_listar' %}" 
               class="flex-1 text-center py-3 font-bold uppercase rounded-lg shadow-md 
                      bg-red-700 text-white hover:bg-red-800 transition duration-300 transform hover:-translate-y-0.5"
            >
                Cancelar
            </a>
        </div>
    </form>
{% endblock %}